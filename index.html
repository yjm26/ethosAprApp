<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EthOS Epoch 2 Terminal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Pixel/retro font -->
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'VT323', monospace;
      font-size: 20px;
    }
    .retro-shadow {
      box-shadow: 4px 4px 0 #a3b1d1, 8px 8px 0 #7a8bbd;
    }
  </style>
</head>
<body class="bg-[#b7c9f7] min-h-screen flex items-center justify-center">
  <div class="bg-[#e3e9fc] border-4 border-[#7a8bbd] rounded-lg p-6 w-full max-w-md retro-shadow relative">
    <!-- Top Bar -->
    <div class="bg-[#d1d8f6] border-b-2 border-[#7a8bbd] px-2 py-1 mb-4 flex justify-between items-center text-[18px] text-[#2d3c7a]">
      <span><span class="text-green-700">Loading...</span> Hide Lit</span>
      <span>Œû53,501 <span id="time">00:00</span></span>
    </div>
    <!-- Title -->
    <h1 class="text-[28px] text-[#2d3c7a] text-center mb-1 tracking-wide">EthOS APY Terminal</h1>
    <div class="text-center mb-4">
      <span class="text-[18px]">Ends in <span id="countdown" class="text-[#b22222] font-bold">Loading...</span></span>
    </div>
    <!-- Info Block -->
    <div class="bg-[#f3f6ff] border-2 border-inset border-[#b7c9f7] p-3 mb-4 text-[18px]">
      <div class="flex justify-between"><span>Epoch:</span> <span>3</span></div>
      <div class="flex justify-between"><span>APY:</span> <span id="apyRate">12.0 % day</span></div>
      <div class="flex justify-between"><span>Code:</span> <span>85,366 AIR</span></div>
    </div>
    <!-- Input -->
    <label for="airInput" class="block text-[18px] mb-1">üì¶ Enter your $AIR stack:</label>
    <input type="number" id="airInput" placeholder="e.g. 10000"
      class="w-full bg-white border-2 border-inset border-[#b7c9f7] rounded px-3 py-2 mb-3 text-[20px] focus:outline-none" />
    <!-- Projected Output -->
    <div class="bg-[#e3e9fc] border-2 border-inset border-[#b7c9f7] p-2 mb-3 text-[18px]">
      üìà Projected $AIR:
      <div id="result" class="font-bold text-black text-[22px]">Enter a value to see your projected $AIR</div>
    </div>
    <!-- Button -->
    <button onclick="calculateAIR()"
      class="w-full bg-[#2d3c7a] text-white text-[20px] border-2 border-[#b7c9f7] rounded py-2 mb-2 hover:bg-[#1a224a] transition">
      ‚ñ∂Ô∏è Calculate
    </button>
    <!-- Note -->
    <div class="text-center text-[#4a5c9a] text-[16px] mt-2">üßÆ APR: ~9% daily, compounding</div>
    <!-- Elapsed Time -->
    <div class="text-center mb-2">
      <span class="text-[18px]">Epoch started <span id="elapsed" class="text-[#2d3c7a] font-bold">Loading...</span> ago</span>
    </div>
    <!-- Bottom right credit -->
    <a href="https://x.com/eunoiabluu" target="_blank"
      class="fixed bottom-3 right-5 text-xl text-[#2d3c7a] opacity-70 hover:underline z-50"
      style="font-family: 'VT323', monospace;">
      created by : eunoiabluu
    </a>
  </div>
  <script>
    // Clock
    setInterval(() => {
      const now = new Date();
      const hh = String(now.getHours()).padStart(2, '0');
      const mm = String(now.getMinutes()).padStart(2, '0');
      document.getElementById('time').textContent = `${hh}:${mm}`;
    }, 1000);

    const epochStart = new Date('2025-08-05T00:15:00+07:00'); // Epoch 3 start, GMT+7
    const epochEnd = new Date(epochStart.getTime() + 3 * 24 * 60 * 60 * 1000);

    function getRemainingDays() {
      const now = new Date();
      const diff = epochEnd - now;
      return diff > 0 ? diff / (1000 * 60 * 60 * 24) : 0;
    }

    function updateCountdown() {
      const now = new Date();
      const diff = epochEnd - now;
      if (diff < 0) {
        document.getElementById('countdown').textContent = 'Ended';
        return;
      }
      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const m = Math.floor((diff / (1000 * 60)) % 60);
      const s = Math.floor((diff / 1000) % 60);
      document.getElementById('countdown').textContent = `${d}d ${h}h ${m}m ${s}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    function updateElapsed() {
      const now = new Date();
      const diff = Math.max(now - epochStart, 0);
      const d = Math.floor(diff / (1000 * 60 * 60 * 24));
      const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const m = Math.floor((diff / (1000 * 60)) % 60);
      const s = Math.floor((diff / 1000) % 60);
      document.getElementById('elapsed').textContent = `${d}d ${h}h ${m}m ${s}s`;
    }
    setInterval(updateElapsed, 1000);
    updateElapsed();

    function calculateAIR() {
      const inputEl = document.getElementById('airInput');
      const resultEl = document.getElementById('result');
      const input = parseFloat(inputEl.value);
      if (isNaN(input) || input <= 0) {
        resultEl.textContent = "Please enter a valid number.";
        return;
      }
      const apr = 0.12; // 12% per day
      const days = getRemainingDays();
      // Simple interest: APR √ó days (no compounding)
      const result = input * (1 + apr * days);
      resultEl.textContent = `${result.toLocaleString(undefined, { maximumFractionDigits: 2 })} $AIR`;
    }
  </script>
</body>
</html>
